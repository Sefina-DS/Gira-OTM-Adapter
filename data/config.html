<!DOCTYPE html>
<html lang="de">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Konfiguration</title>
        <link rel="stylesheet" type="text/css" href="/config.css">
    </head>
    <style>
        body {
            background-color: rgb(39, 37, 37);
            color: rgb(140, 143, 143);
        }
        div.box {
            background-color: rgb(20, 19, 19);
            text-align: center;
            padding: 5px;
            box-sizing: border-box;
            border-radius: 30px;
        }
        table {
            width: 500px;
            text-align: center;
            margin: 0 auto;
        }
        
    
    </style>
    <script>
        function showNetworkSettings() {
            var networkContentDiv = document.getElementById("networkContent");
            var networkSectionDiv = document.getElementById("networkSection");
            var xhr = new XMLHttpRequest();
            // Zeige den Netzwerkbereich an
            networkSectionDiv.style.display = "block";
            // Passe das Styling an
            document.body.style.backgroundColor = 'lightblue';
            // Lade den Inhalt der Netzwerkeinstellungen
            xhr.open('GET', '/network_settings.html', true);
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4) {
                    if (xhr.status === 200) {
                        // Füge den Text in das Netzwerk-Inhalts-Div ein
                        networkContentDiv.innerHTML = xhr.responseText;
                    } else {
                        // Behandele den Fehlerfall hier
                        console.error("Die Datei konnte nicht abgerufen werden.");
                    }
                }
            };
            xhr.send();
        }
        function showDetectorSettings() {
            var networkContentDiv = document.getElementById("detectorContent");
            var networkSectionDiv = document.getElementById("detectorSection");
            var xhr = new XMLHttpRequest();
            // Zeige den Netzwerkbereich an
            detectorSectionDiv.style.display = "block";
            // Lade den Inhalt der Netzwerkeinstellungen
            xhr.open('GET', '/detector_settings.html', true);
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4) {
                    if (xhr.status === 200) {
                        // Füge den Text in das Netzwerk-Inhalts-Div ein
                        detectorContentDiv.innerHTML = xhr.responseText;
                    } else {
                        // Behandele den Fehlerfall hier
                        console.error("Die Datei konnte nicht abgerufen werden.");
                    }
                }
            };
            xhr.send();
        }
        function showSensorSettings() {
            var sensorContentDiv = document.getElementById("sensorContent");
            var sensorSectionDiv = document.getElementById("sensorSection");
            var xhr = new XMLHttpRequest();
            // Zeige den Netzwerkbereich an
            sensorSectionDiv.style.display = "block";
            // Lade den Inhalt der Netzwerkeinstellungen
            xhr.open('GET', '/sensor_settings.html', true);
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4) {
                    if (xhr.status === 200) {
                        // Füge den Text in das Netzwerk-Inhalts-Div ein
                        sensorContentDiv.innerHTML = xhr.responseText;
                    } else {
                        // Behandele den Fehlerfall hier
                        console.error("Die Datei konnte nicht abgerufen werden.");
                    }
                }
            };
            xhr.send();
        }
        function showSystemSettings() {
            var systemContentDiv = document.getElementById("systemContent");
            var systemSectionDiv = document.getElementById("systemSection");
            var xhr = new XMLHttpRequest();
            // Zeige den Netzwerkbereich an
            systemSectionDiv.style.display = "block";
            // Lade den Inhalt der Netzwerkeinstellungen
            xhr.open('GET', '/system_settings.html', true);
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4) {
                    if (xhr.status === 200) {
                        // Füge den Text in das Netzwerk-Inhalts-Div ein
                        systemContentDiv.innerHTML = xhr.responseText;
                    } else {
                        // Behandele den Fehlerfall hier
                        console.error("Die Datei konnte nicht abgerufen werden.");
                    }
                }
            };
            xhr.send();
        }
        function showLoggingSettings() {
            var loggingContentDiv = document.getElementById("loggingContent");
            var loggingSectionDiv = document.getElementById("loggingSection");
            var xhr = new XMLHttpRequest();
            // Zeige den Netzwerkbereich an
            loggingSectionDiv.style.display = "block";
            // Lade den Inhalt der Netzwerkeinstellungen
            xhr.open('GET', '/logging_settings.html', true);
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4) {
                    if (xhr.status === 200) {
                        // Füge den Text in das Netzwerk-Inhalts-Div ein
                        loggingContentDiv.innerHTML = xhr.responseText;
                    } else {
                        // Behandele den Fehlerfall hier
                        console.error("Die Datei konnte nicht abgerufen werden.");
                    }
                }
            };
            xhr.send();
        }
    </script>
      
    <body>
        <!-- ÜBERSCHRIFT -->
        <div class="ueberschrift">
            <div class="box">
                <h1>Rauchmelderadapter - Config 22</h1>
                %header_esp_name% | %header_detector_location%
            </div>
        </div>
        <!-- INFOFENSTER -->
        <br />
        <div class="infozeile" %ph_web_config%>
            <div class="box">
                <table style="background-color: rgb(240, 131, 7); width: 800px; border-radius: 30px;">
                    <tbody>
                        <tr>
                            <td style="width: 600px; color: rgb(0, 0, 0)">Es wurden Einstellungen geändert, <br> um diese zu Aktivieren ist ein Neustart notwendig !</td>
                            <td style="text-align: left">
                                <form action="/get">
                                    <input type="submit" name="ESP-Neustart" value="Neustart ausführem" title="ESP-Neustart" style="white-space: pre-line; padding: 5px 10px;">
                                </form>
                            </td>                                            
                        </tr>
                    </tbody>
                </table>
            </div>
            <br>
        </div>
        <!-- NAVIGATION -->
        <div class="box">
            <div class="box">
                <table class="navigation">
                    <tr>
                        <td><button onclick="showNetworkSettings()">Netzwerk</button></td>
                        <td><button onclick="showDetectorSettings()">Rauchmelder</button></td>
                        <td><button onclick="showSensorSettings()">Sensor</button></td>
                        <td><button onclick="showSystemSettings()">System</button></td>
                        <td><button onclick="showLoggingSettings()">Logging</button></td>
                        <!-- Weitere Buttons für andere Abschnitte -->
                    </tr>
                </table>
            </div>
        </div>
        <!-- BEREICH Netzwerk  -->
        <div id="networkSection" style="display: none;">
            <div id="networkContent"></div>
        </div>
        <!-- BEREICH Detector  -->
        <div id="detectorSection" style="display: none;">
            <div id="detectorContent"></div>
        </div>
        <!-- BEREICH Sensor  -->
        <div id="sensorSection" style="display: none;">
            <div id="sensorContent"></div>
        </div>
        <!-- BEREICH SYSTEM BEGINN -->
        <div id="systemSection" style="display: none;">
            <div id="systemContent"></div>
        </div>
        <!-- BEREICH LOGGING BEGINN -->
        <div id="loggingSection" style="display: none;">
            <div id="loggingContent"></div>
        </div>
        <!-- BEREICH UNTEN BEGINN -->
        <div class="unten">
            <br>
            <table>
                <tr>
                    <td><br><form action="/get"><input type="submit" name="reset_config" value="Werkseinstellungen laden !" title="Reset - Config"></form></td>
                </tr>
            </table>
        </div>
    </body>
</html>